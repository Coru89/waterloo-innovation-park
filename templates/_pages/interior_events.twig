{% extends 'base.twig' %}




{% block content %}



<section class="calendar">
  <div class="u-container">
    <div class="calendar__wrapper">
            <iframe id="calendar" style="width: 100%; height: 100vh; border: none;" src="{{siteUrl}}/calendar/month" frameborder="0"></iframe>
    </div>
  </div>
</section>

<script type="text/javascript">

let myIframe = document.getElementById('calendar');
    let heightVal;
    myIframe.addEventListener("load", function() {
  window.addEventListener('message', function(e) {
    var eventName = e.data[0];
    heightVal = e.data[1];
    console.log(heightVal);
    {# myIframe.height = heightVal + 'px'; #}
          myIframe.style.height = heightVal + 'px';
  }, false);
  });

  window.addEventListener('resize', resizeIframe);

// Define the function that resizes the iframe
function resizeIframe() {
  // Get the height of the iframe's content
  const height = myIframe.contentWindow.document.body.scrollHeight;
  
  // Set the iframe's height to the calculated height
  myIframe.style.height = `${height}px`;
}


    {# myIframe.addEventListener("load", function() {
      console.log('wrong height', myIframe.scrollHeight);

      window.addEventListener("resize", function() {
        console.log('hi');
        myIframe = document.getElementById('calendar');
        newHeight = myIframe.scrollHeight;
        console.log(newHeight);
        myIframe.style.height = newHeight + 'px';
      })
    }) #}



     


</script>



<style>
  iframe {
    display: block;
    width: 100%;
    overflow: hidden;
    height: 100vh;
  }
  
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  
  /* Optional: Style the embedded website to fit within the iframe */
  iframe body {
    margin: 0;
    padding: 0;
  }
</style>

{% endblock %}

